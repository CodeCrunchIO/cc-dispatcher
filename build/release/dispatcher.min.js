!function(){"use strict";var e=function(){return this instanceof e?this:new e},t=e.prototype;t.guid=1,t.observers={},t.noop=function(){},t.on=function(){var e=Array.prototype.slice.apply(arguments),r=e.shift(),s=e.shift(),n=e.shift(),o=e.shift();if(s="function"==typeof s?s:this.noop,!r||"string"!=typeof r)return this;s=i(s);var f=s._guid;return r in this.observers||(this.observers[r]={}),this.observers[r][f]={fn:s,s:"undefined"!=typeof n?n:t.noop,f:"undefined"!=typeof o?o:t.noop},this},t.off=function(e,t){return e&&"string"==typeof e&&e in this.observers?"undefined"!=typeof t&&"undefined"!=typeof t._guid?t._guid in this.observers[e]?(delete this.observers[e][t._guid],this):this:(delete this.observers[e],this):this},t.dispatch=function(){var e=Array.prototype.slice.apply(arguments),t=e.shift();if(!t||"string"!=typeof t)return this;if(!(t in this.observers))return this;for(var i in this.observers[t]){var r=this.observers[t][i].fn,s=[];for(var n in e)s[n]=e[n];s.push(this.observers[t][i].s),s.push(this.observers[t][i].f),r.apply(r,s)}return delete this.observers[t],this};var i=function(e){return"undefined"==typeof e._guid&&Object.defineProperty(e,"_guid",{value:t.guid++,enumerable:!1,writable:!1}),e};"function"==typeof define&&define.amd&&define("Dispatcher",[],function(){return e}),"undefined"==typeof window.Dispatcher&&(window.Dispatcher=e)}();